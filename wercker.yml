box: joegen/oss_core-centos6:latest
build:
  steps:
    - script:
        name: Init OSS_CORE submodules
        code: git submodule update --init --recursive
    - script:
        name: Copy WS sources to include
        code: rm -f include/OSS/websocketpp && mkdir -p include/OSS/websocketpp && cp -rpP src/ws/src/* include/OSS/websocketpp/
    - script: 
        name: Configure OSS_CORE
        code: autoreconf -if && ./configure
    - script:
        name: Build OSS_CORE
        code: make && make install
